<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>JSE Captcha Demo</title>
</head>
<body>
  
<h1 id="auth">Not Authorized</h1>

<script>
document.addEventListener("JSECaptchaPass", function() {
  document.getElementById('auth').innerHTML = 'Completed';
}, false);
</script>

<div id="JSE-captcha" class="JSE-captcha-shadow"></div>
<script type="text/javascript" src="http://localhost:81/captcha/load/captcha.js"></script>
<script>
  document.addEventListener("JSECaptchaPass", function(e) {
    var xmlHttp = new XMLHttpRequest();
    console.log('test'+e.ip);
    xmlHttp.open( "GET", "http://localhost:81/captcha/check/"+e.ip+"/", false );
    xmlHttp.send( null );
    document.getElementById('xhr-data').innerHTML = xmlHttp.responseText;

    document.getElementById('auth').innerHTML = 'Completed '+e.captchaID;
    document.getElementById('ml-data').innerHTML = '<h5>Machine Learning Data</h5>'+JSON.stringify(e.mlData);
  }, false);
</script>


<br><br><br>
<button onclick="JSECaptchaComplete('testFunc');">TEST JSECaptchaComplete</button>

<hr>
<br><br><div id="ml-data">

</div>
<br><br>
<h4>XHR Result</h4>
<div id="xhr-data">
</div><br>
<button onclick="location.reload();">Reload / Reset Page</button>
<script>
function testFunc() {
  alert('Working well :)');  
}
</script>

</body>
</html>